{"version":3,"sources":["history.js","components/Footer.js","components/HeaderTable.js","components/Header.js","apis/balancerPools.js","apis/coingecko.js","actions/index.js","components/helpers/factorCalcs.js","components/helpers/balancerHelpers.js","components/PortfolioView.js","components/PoolsTable.js","components/UserInput.js","components/Pools.js","components/PoolViewer.js","components/Data.js","components/App.js","reducers/balancerReducer.js","reducers/coingeckoReducer.js","reducers/portfolioReducer.js","reducers/poolReducer.js","reducers/index.js","reducers/liquidityReducer.js","reducers/allLiqReducer.js","reducers/sumVolReducer.js","index.js"],"names":["createBrowserHistory","Footer","className","target","rel","href","React","Component","HeaderTable","this","props","prices","sumAdjLiq","key","data-label","usd","toFixed","Number","sumVol","toLocaleString","sumTotalLiq","renderHeaderTable","connect","state","sumLiq","coingecko","Header","portfolio","length","to","filter","value","renderPortfolioButton","alt","src","renderMenu","Date","axios","url","method","data","query","Math","floor","now","create","baseURL","selectPool","pool","dispatch","type","payload","deletePool","deletePools","fetchPool","id","a","toLowerCase","response","feeFactor","swapFee","exp","pow","ratioFactor","w","tokens","token","push","denormWeight","totalWeight","colors","tokenAddresses","tokenColors","renderAssetsText","assets","percentage","symbol","renderAssets","pickedColors","forEach","index","colorChoices","indexOf","random","colorPick","address","findIndex","weight","parseFloat","entry","title","color","renderTotalLiquidity","ownership","total","undefined","price","balance","isNaN","renderVolume","totalSwapVolume","swaps","swap","poolTotalSwapVolume","volume","renderFees","fees","totalFactor","renderAdjLiquidity","tFactor","liquidity","split","join","renderTotalYield","annualBAL","feeYield","renderYield","priceBAL","checkLiquidity","renderOwnership","renderNumLP","count","shares","share","parseInt","PortfolioView","pools","map","checkPortfolio","selectedPool","slice","onClick","history","renderTable","ownProps","match","params","poolReducer","allPools","balancer","PoolsTable","checker","form","values","userInput","shareBalance","userAddress","totalShares","UserInput","renderInput","input","label","meta","error","touched","autoComplete","renderError","onSubmit","formValues","handleSubmit","Field","name","component","reduxForm","validate","Pools","PoolViewer","viewPool","asset","output","renderAssetPrice","renderAssetValue","renderAssetTable","Data","adjLiquidity","sumTotalAdjLiq","timer","sumVolume","refreshTimer","gatherData","fetchPools","addresses","a1","a2","fetchPrice","getTotalVolume","sumAllLiq","sumAllVol","sumLiquidity","setInterval","refreshData","clearInterval","clearLiquidity","deleteAllLiq","deleteAllVol","deletePrices","portfolioPools","poolsList","balancerPools","get","App","path","INITIAL_STATE","combineReducers","action","newState","deletedPool","number","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector"],"mappings":"yNACeA,gB,8BCmBAC,E,uKAhBb,OACC,yBAAKC,UAAU,qDACd,uBAAGC,OAAO,SAASC,IAAI,sBAAsBC,KAAI,mCAChD,uBAAGH,UAAU,wBAEd,uBAAGC,OAAO,SAASC,IAAI,sBAAsBC,KAAI,mCAChD,uBAAGH,UAAU,uBAEd,uBAAGC,OAAO,SAASC,IAAI,sBAAsBC,KAAI,iCAChD,uBAAGH,UAAU,wB,GAXGI,IAAMC,W,gBCArBC,E,kLAEJ,GAAIC,KAAKC,MAAMC,OAAO,+CAAiDF,KAAKC,MAAME,UAAY,UAC7F,OACC,wBAAIC,IAAK,SACR,wBAAIX,UAAU,iBAAiBY,aAAW,aAA1C,IACGL,KAAKC,MAAMC,OAAO,8CAA8CI,IAAIC,QAAQ,IAE/E,wBAAId,UAAU,iBAAiBY,aAAW,gBAA1C,IACGG,OAAOR,KAAKC,MAAMQ,OAAOF,QAAQ,IAAIG,kBAExC,wBAAIjB,UAAU,iBAAiBY,aAAW,mBAA1C,IACGG,OAAOR,KAAKC,MAAMU,YAAYJ,QAAQ,IAAIG,kBAE7C,wBAAIjB,UAAU,iBAAiBY,aAAW,wBAA1C,IACGG,OAAOR,KAAKC,MAAME,UAAUI,QAAQ,IAAIG,qB,+BAM9C,OACC,6BACC,6BACA,yBAAKjB,UAAU,oBACd,2BAAOA,UAAU,8CAChB,+BACC,4BACC,wBAAIA,UAAU,kBAAd,aACA,wBAAIA,UAAU,kBAAd,gBACA,wBAAIA,UAAU,kBAAd,mBACA,wBAAIA,UAAU,kBAAd,0BAGF,+BAAQO,KAAKY,sBAEd,mC,GApCqBf,IAAMC,WAoDjBe,eATS,SAACC,GACxB,MAAO,CACNX,UAAWW,EAAMC,OACjBJ,YAAaG,EAAMH,YACnBF,OAAQK,EAAML,OACdP,OAAQY,EAAME,aAIDH,CAAyBd,GCjDlCkB,E,sLAEJ,OAAoC,IAAhCjB,KAAKC,MAAMiB,UAAUC,OAEvB,kBAAC,IAAD,CACCC,GAAE,qBAAgBpB,KAAKC,MAAMiB,UAAUG,QAAO,SAACC,GAAD,MAAqB,KAAVA,GAA0B,OAAVA,MACzE7B,UAAU,2CAEV,yBAAKA,UAAU,0BAAf,kBACA,yBAAKA,UAAU,kBAAf,wBAGS,O,mCAIZ,OACC,yBAAKA,UAAU,0BACbO,KAAKuB,wBACN,yBAAK9B,UAAU,gCACd,yBAAKA,UAAU,mCACd,yBAAK+B,IAAI,kBAAkBC,IAAI,qCAEhC,yBAAKhC,UAAU,qBAAf,oBAGD,yBAAKA,UAAU,gCACd,yBAAKA,UAAU,mCACd,yBAAK+B,IAAI,QAAQC,IAAI,qCAEtB,yBAAKhC,UAAU,kBAAf,mCAED,yBAAKA,UAAU,gCACd,yBAAKA,UAAU,mCACd,yBAAK+B,IAAI,YAAYC,IAAI,qCAE1B,yBAAKhC,UAAU,kBAAf,6BAED,kBAAC,IAAD,CAAM2B,GAAG,IAAI3B,UAAU,4CACtB,yBAAKA,UAAU,mBAAf,aACA,yBAAKA,UAAU,kBAAf,sB,+BAOH,OACC,6BACEO,KAAK0B,aACN,yBAAKjC,UAAU,kCAAf,wBAAsEkC,QACtE,yBAAKlC,UAAU,4BAAf,yDAEC,uBAAGC,OAAO,SAASC,IAAI,sBAAsBC,KAAI,sCAC/C,IADF,sCAIA,6BAND,4bAaA,kBAAC,EAAD,W,GAhEiBC,IAAMC,WA6EZe,eAPS,SAACC,GACxB,MAAO,CACNI,UAAWJ,EAAMI,UACjBhB,OAAQY,EAAME,aAIDH,CAAyBI,G,0DChFzBW,MAAM,CACpBC,IAAK,iEACLC,OAAQ,OACRC,KAAM,CACLC,MAAM,slBAAD,OAyBiFC,KAAKC,MAAMP,KAAKQ,MAAQ,KAC7G,MA1BI,kMCJQP,MAAMQ,OAAO,CAAEC,QAAS,wDCgB1BC,EAAa,SAACC,GAAD,OAAU,SAACC,GACpCA,EAAS,CAAEC,KAAM,cAAeC,QAASH,MAG7BI,EAAa,SAACJ,GAAD,OAAU,SAACC,GACpCA,EAAS,CAAEC,KAAM,cAAeC,QAASH,MAG7BK,EAAc,kBAAM,SAACJ,GACjCA,EAAS,CAAEC,KAAM,mBAwBLI,EAAY,SAACC,GAAD,8CAAQ,WAAON,GAAP,eAAAO,EAAA,sEACTnB,IAAM,CAC5BC,IAAK,iEACLC,OAAQ,OACRC,KAAM,CACLC,MAAM,oCAAD,OACwBc,EAAGE,cAD3B,qnBAyBoFf,KAAKC,MAC7FP,KAAKQ,MAAQ,KACV,MA3BC,iFALyB,OAC1Bc,EAD0B,OAuChCT,EAAS,CAAEC,KAAM,aAAcC,QAASO,EAASlB,OAvCjB,2CAAR,uDCnDZmB,EAAY,SAACC,GACzB,OAAOlB,KAAKmB,KAAKnB,KAAKoB,IAAc,GAAVF,EAAc,KAG5BG,EAAc,SAACf,GAC3B,IADoC,EAC9BgB,EAAI,GAD0B,cAElBhB,EAAKiB,QAFa,IAEpC,2BAA+B,CAAC,IAAvBC,EAAsB,QAC9BF,EAAEG,KAAKD,EAAME,aAAepB,EAAKqB,cAHE,8BAKpC,OAAiB,IAAbL,EAAEpC,OAA0BoC,EAAE,GAAKA,EAAE,GAAd,EAAoBA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IACtD,IAAbA,EAAEpC,QAEHc,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,KAC5CA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAEvB,IAAbA,EAAEpC,QAEHc,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,KAC5CA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAEjE,IAAbA,EAAEpC,QAEHc,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,KAC5CA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,IAEK,IAAbA,EAAEpC,QAEHc,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,KAC5CA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,IAEK,IAAbA,EAAEpC,QAEHc,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,KAC5CA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,GACTA,EAAE,GAAKA,EAAE,IAEK,IAAbA,EAAEpC,QAEHc,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IAAK,GAC5CtB,KAAKoB,IAASE,EAAE,GAAKA,EAAE,GAAd,GAAqBA,EAAE,GAAKA,EAAE,IA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","file":"static/js/main.b429862d.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\r\nexport default createBrowserHistory();\r\n","import React from 'react';\r\n\r\nclass Footer extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"ui center aligned inverted bottom attached header\">\r\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://twitter.com/DavisRamsey`}>\r\n\t\t\t\t\t<i className=\"large twitter icon\" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://github.com/davis-ramsey`}>\r\n\t\t\t\t\t<i className=\"large github icon\" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={`mailto:davis.ramsey@gmail.com`}>\r\n\t\t\t\t\t<i className=\"large at icon\" />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nclass HeaderTable extends React.Component {\r\n\trenderHeaderTable() {\r\n\t\tif (this.props.prices['0xba100000625a3754423978a60c9317c58a424e3d'] && this.props.sumAdjLiq > 140683236)\r\n\t\t\treturn (\r\n\t\t\t\t<tr key={'first'}>\r\n\t\t\t\t\t<td className=\"center aligned\" data-label=\"BAL Price\">\r\n\t\t\t\t\t\t${this.props.prices['0xba100000625a3754423978a60c9317c58a424e3d'].usd.toFixed(2)}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className=\"center aligned\" data-label=\"Total Volume\">\r\n\t\t\t\t\t\t${Number(this.props.sumVol.toFixed(0)).toLocaleString()}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className=\"center aligned\" data-label=\"Total Liquidity\">\r\n\t\t\t\t\t\t${Number(this.props.sumTotalLiq.toFixed(0)).toLocaleString()}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className=\"center aligned\" data-label=\"Total Adj. Liquidity\">\r\n\t\t\t\t\t\t${Number(this.props.sumAdjLiq.toFixed(0)).toLocaleString()}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className=\"ui grid centered\">\r\n\t\t\t\t\t<table className=\"ui collapsing padded inverted celled table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">BAL Price</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Total Volume</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Total Liquidity</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Total Adj. Liquidity</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>{this.renderHeaderTable()}</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsumAdjLiq: state.sumLiq,\r\n\t\tsumTotalLiq: state.sumTotalLiq,\r\n\t\tsumVol: state.sumVol,\r\n\t\tprices: state.coingecko\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(HeaderTable);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport HeaderTable from './HeaderTable';\r\n\r\nclass Header extends React.Component {\r\n\trenderPortfolioButton() {\r\n\t\tif (this.props.portfolio.length !== 0)\r\n\t\t\treturn (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={`/portfolio/${this.props.portfolio.filter((value) => value !== '' && value !== null)}`}\r\n\t\t\t\t\tclassName=\"ui button animated left aligned primary\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"visible content center\">Selected Pools</div>\r\n\t\t\t\t\t<div className=\"hidden content\">View Selected Pools</div>\r\n\t\t\t\t</Link>\r\n\t\t\t);\r\n\t\telse return null;\r\n\t}\r\n\r\n\trenderMenu() {\r\n\t\treturn (\r\n\t\t\t<div className=\"five ui buttons header\">\r\n\t\t\t\t{this.renderPortfolioButton()}\r\n\t\t\t\t<div className=\"ui animated secondary button\">\r\n\t\t\t\t\t<div className=\"ui avatar image visible content\">\r\n\t\t\t\t\t\t<img alt=\"grug stack rock\" src=\"https://i.imgur.com/87YWwgq.png\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"ui hidden content\">Grug stack rock</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"ui animated secondary button\">\r\n\t\t\t\t\t<div className=\"ui avatar image visible content\">\r\n\t\t\t\t\t\t<img alt=\"graph\" src=\"https://i.imgur.com/90yffKg.png\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"hidden content\">Built using The Graph Protocol</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"ui animated secondary button\">\r\n\t\t\t\t\t<div className=\"ui avatar image visible content\">\r\n\t\t\t\t\t\t<img alt=\"coingecko\" src=\"https://i.imgur.com/EbNy23a.png\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"hidden content\">Powered by CoinGecko API</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link to=\"/\" className=\"ui button animated right aligned primary\">\r\n\t\t\t\t\t<div className=\"visible content\">All Pools</div>\r\n\t\t\t\t\t<div className=\"hidden content\">View All Pools</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{this.renderMenu()}\r\n\t\t\t\t<div className=\"ui inverted horizontal divider\">Page Last Refreshed: {Date()}</div>\r\n\t\t\t\t<div className=\"ui black compact message\">\r\n\t\t\t\t\tFor the official Balancer Pool interface, please visit\r\n\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={`https://pools.balancer.exchange/#/`}>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\thttps://pools.balancer.exchange/#/\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\tClick the button to add or remove a pool from your selected pools. To view only selected pools,\r\n\t\t\t\t\tclick the Selected Pools button. Clicking in the Assets column will show more info about that pool's\r\n\t\t\t\t\tassets. Prices are automatically updated every 5 minutes. APY is calculated using 24h fee yield\r\n\t\t\t\t\textrapolated to an annualized rate plus yield on weekly BAL distributions. WrapFactor and CapFactor\r\n\t\t\t\t\tare currently NOT included in the calculations.\r\n\t\t\t\t</div>\r\n\t\t\t\t<HeaderTable />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tportfolio: state.portfolio,\r\n\t\tprices: state.coingecko\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import axios from 'axios';\r\n\r\nexport default axios({\r\n\turl: 'https://api.thegraph.com/subgraphs/name/balancer-labs/balancer',\r\n\tmethod: 'post',\r\n\tdata: {\r\n\t\tquery: `{\r\n      pools (first: 1000, skip: 0, where: {publicSwap: true},orderBy: liquidity, orderDirection: desc) {\r\n        id\r\n       publicSwap\r\n       finalized\r\n       swapFee\r\n       totalWeight\r\n       totalShares\r\n       totalSwapVolume\r\n       tokensList\r\n       tokens {\r\n         id\r\n         address\r\n         balance\r\n         decimals\r\n         symbol\r\n         denormWeight\r\n       }\r\n       shares (first: 1000) {\r\n        id\r\n        userAddress {\r\n          id\r\n        }\r\n        balance\r\n      }\r\n       swaps (first: 1,orderBy: timestamp,orderDirection: desc, where: {timestamp_lt: ${Math.floor(Date.now() / 1000) -\r\n\t\t\t86400}}) {\r\n         tokenIn\r\n         tokenInSym\r\n         tokenAmountIn\r\n         tokenOut\r\n         tokenOutSym\r\n         tokenAmountOut\r\n         poolTotalSwapVolume\r\n       }\r\n     }\r\n   }`\r\n\t}\r\n});\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({ baseURL: 'https://api.coingecko.com/api/v3/simple/token_price' });\r\n","import balancerPools from '../apis/balancerPools';\r\nimport coingecko from '../apis/coingecko';\r\nimport axios from 'axios';\r\n\r\nexport const fetchPools = () => async (dispatch) => {\r\n\tconst response = await balancerPools;\r\n\tdispatch({ type: 'FETCH_POOLS', payload: response.data });\r\n};\r\n\r\nexport const deletePrices = () => (dispatch) => {\r\n\tdispatch({ type: 'DELETE_PRICES' });\r\n};\r\n\r\nexport const fetchPrice = (address) => async (dispatch) => {\r\n\tconst response = await coingecko.get(`/ethereum?contract_addresses=${address}&vs_currencies=usd`);\r\n\tdispatch({ type: 'FETCH_PRICE', payload: response.data });\r\n};\r\n\r\nexport const selectPool = (pool) => (dispatch) => {\r\n\tdispatch({ type: 'SELECT_POOL', payload: pool });\r\n};\r\n\r\nexport const deletePool = (pool) => (dispatch) => {\r\n\tdispatch({ type: 'DELETE_POOL', payload: pool });\r\n};\r\n\r\nexport const deletePools = () => (dispatch) => {\r\n\tdispatch({ type: 'DELETE_POOLS' });\r\n};\r\n\r\nexport const sumAllLiq = (value) => (dispatch) => {\r\n\tdispatch({ type: 'SUM_ALL_LIQ', payload: value });\r\n};\r\nexport const deleteAllLiq = () => (dispatch) => {\r\n\tdispatch({ type: 'DELETE_ALL_LIQ' });\r\n};\r\nexport const sumAllVol = (value) => (dispatch) => {\r\n\tdispatch({ type: 'SUM_ALL_VOL', payload: value });\r\n};\r\nexport const deleteAllVol = () => (dispatch) => {\r\n\tdispatch({ type: 'DELETE_ALL_VOL' });\r\n};\r\n\r\nexport const sumLiquidity = (value) => (dispatch) => {\r\n\tdispatch({ type: 'SUM_LIQUIDITY', payload: value });\r\n};\r\n\r\nexport const clearLiquidity = () => (dispatch) => {\r\n\tdispatch({ type: 'CLEAR_LIQUIDITY' });\r\n};\r\n\r\nexport const fetchPool = (id) => async (dispatch) => {\r\n\tconst response = await axios({\r\n\t\turl: 'https://api.thegraph.com/subgraphs/name/balancer-labs/balancer',\r\n\t\tmethod: 'post',\r\n\t\tdata: {\r\n\t\t\tquery: `{\r\n          pools (where: {id: \"${id.toLowerCase()}\"}, orderBy: liquidity, orderDirection: desc) {\r\n            id\r\n\t\t\t\t\t swapFee\r\n\t\t\t\t\t totalShares\r\n           totalWeight\r\n           totalSwapVolume\r\n           tokens {\r\n             id\r\n             address\r\n             balance\r\n             decimals\r\n             symbol\r\n             denormWeight\r\n\t\t\t\t\t }\r\n\t\t\t\t\t shares (first: 1000) {\r\n\t\t\t\t\t\tid\r\n\t\t\t\t\t\tpoolId {\r\n\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuserAddress {\r\n\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbalance\r\n\t\t\t\t\t}\r\n           swaps (first: 1,orderBy: timestamp,orderDirection: desc, where: {timestamp_lt: ${Math.floor(\r\n\t\t\t\tDate.now() / 1000\r\n\t\t\t) - 86400}}) {\r\n             poolTotalSwapVolume\r\n           }\r\n         }\r\n       }`\r\n\t\t}\r\n\t});\r\n\tdispatch({ type: 'FETCH_POOL', payload: response.data });\r\n};\r\n","export const feeFactor = (swapFee) => {\r\n\treturn Math.exp(-Math.pow(swapFee * 50, 2));\r\n};\r\n\r\nexport const ratioFactor = (pool) => {\r\n\tconst w = [];\r\n\tfor (let token of pool.tokens) {\r\n\t\tw.push(token.denormWeight / pool.totalWeight);\r\n\t}\r\n\tif (w.length === 2) return 4 * (w[0] * w[1]) * w[0] * w[1] / (w[0] * w[1]);\r\n\tif (w.length === 3)\r\n\t\treturn (\r\n\t\t\t(Math.pow(2 * (w[2] * w[1]) / (w[2] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[2] * w[0]) / (w[2] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[1] * w[0]) / (w[1] + w[0]), 2)) /\r\n\t\t\t(w[2] * w[1] + w[2] * w[0] + w[1] * w[0])\r\n\t\t);\r\n\tif (w.length === 4)\r\n\t\treturn (\r\n\t\t\t(Math.pow(2 * (w[2] * w[1]) / (w[2] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[2] * w[0]) / (w[2] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[1] * w[0]) / (w[1] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[0]) / (w[3] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[1]) / (w[3] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[2]) / (w[3] + w[2]), 2)) /\r\n\t\t\t(w[2] * w[1] + w[2] * w[0] + w[1] * w[0] + w[3] * w[0] + w[3] * w[1] + w[3] * w[2])\r\n\t\t);\r\n\tif (w.length === 5)\r\n\t\treturn (\r\n\t\t\t(Math.pow(2 * (w[2] * w[1]) / (w[2] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[2] * w[0]) / (w[2] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[1] * w[0]) / (w[1] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[0]) / (w[3] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[1]) / (w[3] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[2]) / (w[3] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[3]) / (w[4] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[2]) / (w[4] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[1]) / (w[4] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[0]) / (w[4] + w[0]), 2)) /\r\n\t\t\t(w[2] * w[1] +\r\n\t\t\t\tw[2] * w[0] +\r\n\t\t\t\tw[1] * w[0] +\r\n\t\t\t\tw[3] * w[0] +\r\n\t\t\t\tw[3] * w[1] +\r\n\t\t\t\tw[3] * w[2] +\r\n\t\t\t\tw[4] * w[3] +\r\n\t\t\t\tw[4] * w[2] +\r\n\t\t\t\tw[4] * w[1] +\r\n\t\t\t\tw[4] * w[0])\r\n\t\t);\r\n\tif (w.length === 6)\r\n\t\treturn (\r\n\t\t\t(Math.pow(2 * (w[2] * w[1]) / (w[2] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[2] * w[0]) / (w[2] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[1] * w[0]) / (w[1] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[0]) / (w[3] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[1]) / (w[3] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[2]) / (w[3] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[3]) / (w[4] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[2]) / (w[4] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[1]) / (w[4] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[0]) / (w[4] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[4]) / (w[5] + w[4]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[3]) / (w[5] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[2]) / (w[5] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[1]) / (w[5] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[0]) / (w[5] + w[0]), 2)) /\r\n\t\t\t(w[2] * w[1] +\r\n\t\t\t\tw[2] * w[0] +\r\n\t\t\t\tw[1] * w[0] +\r\n\t\t\t\tw[3] * w[0] +\r\n\t\t\t\tw[3] * w[1] +\r\n\t\t\t\tw[3] * w[2] +\r\n\t\t\t\tw[4] * w[3] +\r\n\t\t\t\tw[4] * w[2] +\r\n\t\t\t\tw[4] * w[1] +\r\n\t\t\t\tw[4] * w[0] +\r\n\t\t\t\tw[5] * w[4] +\r\n\t\t\t\tw[5] * w[3] +\r\n\t\t\t\tw[5] * w[2] +\r\n\t\t\t\tw[5] * w[1] +\r\n\t\t\t\tw[5] * w[0])\r\n\t\t);\r\n\tif (w.length === 7)\r\n\t\treturn (\r\n\t\t\t(Math.pow(2 * (w[2] * w[1]) / (w[2] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[2] * w[0]) / (w[2] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[1] * w[0]) / (w[1] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[0]) / (w[3] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[1]) / (w[3] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[2]) / (w[3] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[3]) / (w[4] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[2]) / (w[4] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[1]) / (w[4] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[0]) / (w[4] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[4]) / (w[5] + w[4]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[3]) / (w[5] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[2]) / (w[5] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[1]) / (w[5] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[0]) / (w[5] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[5]) / (w[6] + w[5]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[4]) / (w[6] + w[4]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[3]) / (w[6] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[2]) / (w[6] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[1]) / (w[6] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[0]) / (w[6] + w[0]), 2)) /\r\n\t\t\t(w[2] * w[1] +\r\n\t\t\t\tw[2] * w[0] +\r\n\t\t\t\tw[1] * w[0] +\r\n\t\t\t\tw[3] * w[0] +\r\n\t\t\t\tw[3] * w[1] +\r\n\t\t\t\tw[3] * w[2] +\r\n\t\t\t\tw[4] * w[3] +\r\n\t\t\t\tw[4] * w[2] +\r\n\t\t\t\tw[4] * w[1] +\r\n\t\t\t\tw[4] * w[0] +\r\n\t\t\t\tw[5] * w[4] +\r\n\t\t\t\tw[5] * w[3] +\r\n\t\t\t\tw[5] * w[2] +\r\n\t\t\t\tw[5] * w[1] +\r\n\t\t\t\tw[5] * w[0] +\r\n\t\t\t\tw[6] * w[5] +\r\n\t\t\t\tw[6] * w[4] +\r\n\t\t\t\tw[6] * w[3] +\r\n\t\t\t\tw[6] * w[2] +\r\n\t\t\t\tw[6] * w[1] +\r\n\t\t\t\tw[6] * w[0])\r\n\t\t);\r\n\tif (w.length === 8)\r\n\t\treturn (\r\n\t\t\t(Math.pow(2 * (w[2] * w[1]) / (w[2] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[2] * w[0]) / (w[2] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[1] * w[0]) / (w[1] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[0]) / (w[3] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[1]) / (w[3] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[3] * w[2]) / (w[3] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[3]) / (w[4] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[2]) / (w[4] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[1]) / (w[4] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[4] * w[0]) / (w[4] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[4]) / (w[5] + w[4]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[3]) / (w[5] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[2]) / (w[5] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[1]) / (w[5] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[5] * w[0]) / (w[5] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[5]) / (w[6] + w[5]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[4]) / (w[6] + w[4]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[3]) / (w[6] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[2]) / (w[6] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[1]) / (w[6] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[6] * w[0]) / (w[6] + w[0]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[7] * w[6]) / (w[7] + w[6]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[7] * w[5]) / (w[7] + w[5]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[7] * w[4]) / (w[7] + w[4]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[7] * w[3]) / (w[7] + w[3]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[7] * w[2]) / (w[7] + w[2]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[7] * w[1]) / (w[7] + w[1]), 2) +\r\n\t\t\t\tMath.pow(2 * (w[7] * w[0]) / (w[7] + w[0]), 2)) /\r\n\t\t\t(w[2] * w[1] +\r\n\t\t\t\tw[2] * w[0] +\r\n\t\t\t\tw[1] * w[0] +\r\n\t\t\t\tw[3] * w[0] +\r\n\t\t\t\tw[3] * w[1] +\r\n\t\t\t\tw[3] * w[2] +\r\n\t\t\t\tw[4] * w[3] +\r\n\t\t\t\tw[4] * w[2] +\r\n\t\t\t\tw[4] * w[1] +\r\n\t\t\t\tw[4] * w[0] +\r\n\t\t\t\tw[5] * w[4] +\r\n\t\t\t\tw[5] * w[3] +\r\n\t\t\t\tw[5] * w[2] +\r\n\t\t\t\tw[5] * w[1] +\r\n\t\t\t\tw[5] * w[0] +\r\n\t\t\t\tw[6] * w[5] +\r\n\t\t\t\tw[6] * w[4] +\r\n\t\t\t\tw[6] * w[3] +\r\n\t\t\t\tw[6] * w[2] +\r\n\t\t\t\tw[6] * w[1] +\r\n\t\t\t\tw[6] * w[0] +\r\n\t\t\t\tw[7] * w[6] +\r\n\t\t\t\tw[7] * w[5] +\r\n\t\t\t\tw[7] * w[4] +\r\n\t\t\t\tw[7] * w[3] +\r\n\t\t\t\tw[7] * w[2] +\r\n\t\t\t\tw[7] * w[1] +\r\n\t\t\t\tw[7] * w[0])\r\n\t\t);\r\n};\r\n","import { feeFactor, ratioFactor } from './factorCalcs';\r\n\r\nconst colors = [\r\n\t'lightslategray',\r\n\t'darkorange',\r\n\t'teal',\r\n\t'forestgreen',\r\n\t'crimson',\r\n\t'orchid',\r\n\t'steelblue',\r\n\t'darkmagenta'\r\n];\r\n\r\nconst tokenAddresses = [\r\n\t'0xba100000625a3754423978a60c9317c58a424e3d',\r\n\t'0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2',\r\n\t'0x4ddc2d193948926d02f9b1fe9e1daa0718270ed5',\r\n\t'0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\r\n\t'0x39aa39c021dfbae8fac545936693ac917d5e7563',\r\n\t'0xe2f2a5c287993345a840db3b0845fbc70f5935a5',\r\n\t'0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',\r\n\t'0x6b175474e89094c44da98b954eedeac495271d0f',\r\n\t'0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643',\r\n\t'0x2260fac5e5542a773aa44fbcfedf7c193bc2c599',\r\n\t'0xC11b1268C1A384e55C48c2391d8d480264A3A7F4',\r\n\t'0xb4efd85c19999d84251304bda99e90b92300bd93'\r\n];\r\nconst tokenColors = [\r\n\t'white', //BAL\r\n\t'pink', //WETH\r\n\t'pink', //CETH\r\n\t'olive', //USDC\r\n\t'olive', //CUSDC\r\n\t'goldenrod', //mUSD\r\n\t'aquamarine', //MKR\r\n\t'yellow', //DAI\r\n\t'yellow', //CDAI\r\n\t'blue', //WBTC\r\n\t'blue', //CWBTC\r\n\t'palegreen' //RPL\r\n];\r\nexport const renderAssetsText = (pool) => {\r\n\tconst assets = [];\r\n\tfor (let token of pool.tokens) {\r\n\t\tconst weight = token.denormWeight / pool.totalWeight;\r\n\t\tconst percentage = (weight * 100).toFixed(2) + '%';\r\n\t\tassets.push(percentage + ' ' + token.symbol);\r\n\t}\r\n\treturn assets;\r\n};\r\n\r\nexport const renderAssets = (pool) => {\r\n\tconst assets = [];\r\n\tconst pickedColors = [];\r\n\tpool.tokens.forEach((token, index) => {\r\n\t\tconst colorChoices = colors.filter((value) => pickedColors.indexOf(value) === -1);\r\n\t\tconst random = Math.floor(Math.random() * colorChoices.length);\r\n\t\tlet colorPick = null;\r\n\t\tif (tokenAddresses.indexOf(token.address) !== -1)\r\n\t\t\tcolorPick = tokenColors[tokenAddresses.findIndex((value) => value === token.address)];\r\n\t\telse colorPick = colorChoices[random];\r\n\t\tpickedColors.push(colorPick);\r\n\t\tconst weight = token.denormWeight / pool.totalWeight;\r\n\t\tconst percentage = parseFloat((weight * 100).toFixed(2));\r\n\t\tconst entry = { title: token.symbol, value: percentage, color: colorPick };\r\n\t\tassets.push(entry);\r\n\t});\r\n\treturn assets;\r\n};\r\n\r\nexport const renderTotalLiquidity = (pool, prices, ownership = 1) => {\r\n\tlet total = 0;\r\n\tfor (let token of pool.tokens) {\r\n\t\tconst address = token.address;\r\n\t\tif (prices === undefined || prices[address] === undefined) return 'No Data';\r\n\t\tconst price = prices[address].usd;\r\n\t\tconst balance = parseFloat(token.balance);\r\n\t\ttotal += price * balance;\r\n\t}\r\n\tif (isNaN(total)) return 'No Data';\r\n\ttotal = total * ownership;\r\n\treturn Number(total.toFixed(2)).toLocaleString();\r\n};\r\n\r\nexport const renderVolume = (pool, ownership = 1) => {\r\n\tconst totalSwapVolume = pool.totalSwapVolume;\r\n\tif (pool.swaps[0] === undefined) return 0;\r\n\tconst swap = pool.swaps[0].poolTotalSwapVolume;\r\n\tconst volume = (totalSwapVolume - swap) * ownership;\r\n\treturn Number(volume.toFixed(2)).toLocaleString();\r\n};\r\n\r\nexport const renderFees = (pool, ownership = 1) => {\r\n\tconst totalSwapVolume = pool.totalSwapVolume;\r\n\tif (pool.swaps[0] === undefined) return 0;\r\n\tconst swap = pool.swaps[0].poolTotalSwapVolume;\r\n\tconst volume = totalSwapVolume - swap;\r\n\tconst fees = volume * pool.swapFee * ownership;\r\n\treturn Number(fees.toFixed(2)).toLocaleString();\r\n};\r\n\r\nconst totalFactor = (pool) => {\r\n\tconst fee = feeFactor(pool.swapFee);\r\n\tconst ratio = ratioFactor(pool);\r\n\treturn fee * ratio;\r\n};\r\n\r\nexport const renderAdjLiquidity = (pool, prices, sumLiq, ownership = 1) => {\r\n\tconst tFactor = totalFactor(pool);\r\n\tconst liquidity = renderTotalLiquidity(pool, prices).split(',').join('');\r\n\tif (isNaN(liquidity / sumLiq * 14500)) return 0;\r\n\treturn liquidity * tFactor / sumLiq * 145000 * 52 * ownership;\r\n};\r\n\r\nexport const renderTotalYield = (pool, prices, sumLiq) => {\r\n\tconst liquidity = renderTotalLiquidity(pool, prices).split(',').join('');\r\n\tif (isNaN(liquidity / sumLiq * 14500)) return 0;\r\n\tconst annualBAL = renderAdjLiquidity(pool, prices, sumLiq);\r\n\tconst feeYield = parseFloat(renderYield(pool, prices)) * 365;\r\n\tconst priceBAL = prices['0xba100000625a3754423978a60c9317c58a424e3d'].usd;\r\n\tconst yieldBAL = parseFloat(annualBAL * priceBAL / liquidity * 100);\r\n\tconst totalYield = yieldBAL + feeYield;\r\n\treturn totalYield.toFixed(2);\r\n};\r\n\r\nexport const checkLiquidity = (pool, prices) => {\r\n\tlet total = 0;\r\n\tfor (let token of pool.tokens) {\r\n\t\tconst address = token.address;\r\n\t\tif (prices[address] === undefined) return 0;\r\n\t\tconst price = prices[address].usd;\r\n\t\tconst balance = parseFloat(token.balance);\r\n\t\ttotal += price * balance;\r\n\t}\r\n\treturn Number(total.toFixed(2)).toLocaleString();\r\n};\r\nexport const renderYield = (pool, prices) => {\r\n\tconst totalSwapVolume = pool.totalSwapVolume;\r\n\tif (pool.swaps[0] === undefined) return '0';\r\n\tconst swap = pool.swaps[0].poolTotalSwapVolume;\r\n\tconst volume = totalSwapVolume - swap;\r\n\tconst fees = volume * pool.swapFee;\r\n\tlet total = 0;\r\n\tfor (let token of pool.tokens) {\r\n\t\tconst address = token.address;\r\n\t\tif (prices === undefined) return '0';\r\n\t\tconst price = prices[address].usd;\r\n\t\tconst balance = parseFloat(token.balance);\r\n\t\ttotal += price * balance;\r\n\t}\r\n\tconst feeYield = fees / total * 100;\r\n\tif (isNaN(feeYield)) return '0';\r\n\treturn feeYield.toFixed(4);\r\n};\r\n\r\nexport const renderOwnership = (ownership) => {\r\n\tif (!ownership) return '-';\r\n\telse return (ownership * 100).toFixed(2);\r\n};\r\n\r\nexport const renderNumLP = (pool) => {\r\n\tlet count = 0;\r\n\tfor (let share of pool.shares) if (parseInt(share.balance) !== 0) count++;\r\n\treturn count;\r\n};\r\n","import React from 'react';\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\nimport { connect } from 'react-redux';\r\nimport history from '../history';\r\nimport { fetchPool, selectPool, deletePool, deletePools } from '../actions';\r\nimport {\r\n\trenderAssets,\r\n\trenderTotalLiquidity,\r\n\trenderVolume,\r\n\trenderFees,\r\n\tcheckLiquidity,\r\n\trenderTotalYield,\r\n\trenderAdjLiquidity,\r\n\trenderAssetsText,\r\n\trenderNumLP\r\n} from './helpers/balancerHelpers';\r\n\r\nclass PortfolioView extends React.Component {\r\n\tasync componentDidMount() {\r\n\t\tconst pools = this.props.portfolio.split(',');\r\n\t\tfor (let pool of pools) {\r\n\t\t\tawait this.props.fetchPool(pool);\r\n\t\t\tthis.props.selectPool(pool);\r\n\t\t}\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.deletePools();\r\n\t}\r\n\r\n\trenderTable() {\r\n\t\tconst pools = this.props.portfolio.split(',');\r\n\t\treturn pools.map((pool) => {\r\n\t\t\tif (this.props.checkPortfolio.indexOf(pool) === -1) return null;\r\n\t\t\tconst selectedPool = this.props.pools[pool];\r\n\t\t\tif (selectedPool && this.props.prices && this.props.portfolio && this.props.sumLiq > 138683236) {\r\n\t\t\t\tconst check = parseInt(checkLiquidity(selectedPool, this.props.prices));\r\n\t\t\t\tif (check !== 0)\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<tr key={selectedPool.id}>\r\n\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Pool Address\">\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\thref={`https://pools.balancer.exchange/#/pool/${selectedPool.id}`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<button className=\"ui small inverted floating compact centered button\">\r\n\t\t\t\t\t\t\t\t\t\t...{selectedPool.id.slice(-8)}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.props.deletePool(selectedPool.id)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"ui small inverted floating compact centered button\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\tonClick={() => history.push(`/pool/${selectedPool.id}`)}\r\n\t\t\t\t\t\t\t\tclassName=\"center aligned\"\r\n\t\t\t\t\t\t\t\tdata-label=\"Assets\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<PieChart\r\n\t\t\t\t\t\t\t\t\tclassName=\"ui tiny circular image\"\r\n\t\t\t\t\t\t\t\t\tdata={renderAssets(selectedPool)}\r\n\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/pool/${selectedPool.id}`)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<i className=\"icon long arrow alternate right\" />\r\n\t\t\t\t\t\t\t\t{renderAssetsText(selectedPool).join('  ')}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Swap Fee\">\r\n\t\t\t\t\t\t\t\t{(selectedPool.swapFee * 100).toFixed(2)}%\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Total Liquidity\">\r\n\t\t\t\t\t\t\t\t${renderTotalLiquidity(selectedPool, this.props.prices)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"24h Volume\">\r\n\t\t\t\t\t\t\t\t${renderVolume(selectedPool)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"24h Fees\">\r\n\t\t\t\t\t\t\t\t${renderFees(selectedPool)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Annual BAL\">\r\n\t\t\t\t\t\t\t\t{Number(\r\n\t\t\t\t\t\t\t\t\trenderAdjLiquidity(selectedPool, this.props.prices, this.props.sumLiq).toFixed(0)\r\n\t\t\t\t\t\t\t\t).toLocaleString()}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"APY\">\r\n\t\t\t\t\t\t\t\t{renderTotalYield(selectedPool, this.props.prices, this.props.sumLiq)}%\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"# of LP's\">\r\n\t\t\t\t\t\t\t\t{renderNumLP(selectedPool)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t\telse\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<tr key={selectedPool.id}>\r\n\t\t\t\t\t\t\t<td>Loading!</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t);\r\n\t\t\t} else\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<tr key={Math.random()}>\r\n\t\t\t\t\t\t<td>Loading!</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"ui inverted horizontal divider\">Your Selected Pools</div>\r\n\t\t\t\t<table className=\"ui selectable inverted striped celled table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">Pool Address</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned ten wide\">Assets</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">Swap Fee</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">Total Liquidity</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">24h Volume</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">24h Fees</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">Annual BAL</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">APY</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\"># of LP's</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>{this.renderTable()}</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn {\r\n\t\tportfolio: ownProps.match.params.portfolio,\r\n\t\tpools: state.poolReducer,\r\n\t\tprices: state.coingecko,\r\n\t\tcheckPortfolio: state.portfolio,\r\n\t\tsumLiq: state.sumLiq,\r\n\t\tallPools: state.balancer.pools\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n\tfetchPool,\r\n\tselectPool,\r\n\tdeletePool,\r\n\tdeletePools\r\n})(PortfolioView);\r\n","import React from 'react';\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\nimport { connect } from 'react-redux';\r\nimport { selectPool, deletePool } from '../actions';\r\nimport {\r\n\trenderAssets,\r\n\trenderTotalLiquidity,\r\n\trenderVolume,\r\n\trenderFees,\r\n\tcheckLiquidity,\r\n\trenderAdjLiquidity,\r\n\trenderTotalYield,\r\n\trenderAssetsText,\r\n\trenderOwnership,\r\n\trenderNumLP\r\n} from './helpers/balancerHelpers';\r\n\r\nimport history from '../history';\r\n\r\nclass PoolsTable extends React.Component {\r\n\tchecker = (pool) => {\r\n\t\tif (!this.props.form) return;\r\n\t\tif (!this.props.form.values) return;\r\n\t\tconst userInput = this.props.form.values.address.toLowerCase();\r\n\t\tfor (let share of pool.shares) {\r\n\t\t\tconst shareBalance = parseFloat(share.balance);\r\n\t\t\tif (share.userAddress.id === userInput && shareBalance !== 0)\r\n\t\t\t\treturn shareBalance / parseFloat(pool.totalShares).toFixed(4);\r\n\t\t}\r\n\t\treturn 0;\r\n\t};\r\n\r\n\trender() {\r\n\t\tif (this.props.pools && this.props.prices && this.props.portfolio && this.props.sumLiq > 138683236)\r\n\t\t\treturn this.props.pools.map((pool) => {\r\n\t\t\t\tconst ownership = this.checker(pool);\r\n\t\t\t\tif (ownership === 0) return null;\r\n\t\t\t\tconst check = parseFloat(checkLiquidity(pool, this.props.prices));\r\n\t\t\t\tif (check !== 0) {\r\n\t\t\t\t\tif (this.props.portfolio.indexOf(pool.id) === -1)\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr key={pool.id}>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Pool Address\">\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\thref={`https://pools.balancer.exchange/#/pool/${pool.id}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"ui small inverted floating compact centered button\">\r\n\t\t\t\t\t\t\t\t\t\t\t...{pool.id.slice(-8)}\r\n\t\t\t\t\t\t\t\t\t\t</button>{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.selectPool(pool.id)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ui small inverted floating compact centered button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\tclassName=\"center aligned selectable\"\r\n\t\t\t\t\t\t\t\t\tdata-label=\"Assets\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/pool/${pool.id}`)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<PieChart\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ui tiny circular image\"\r\n\t\t\t\t\t\t\t\t\t\tdata={renderAssets(pool)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/pool/${pool.id}`)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<i className=\"icon long arrow alternate right\" />\r\n\t\t\t\t\t\t\t\t\t{renderAssetsText(pool).join('  ')}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Swap Fee\">\r\n\t\t\t\t\t\t\t\t\t{(pool.swapFee * 100).toFixed(2)}%\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Total Liquidity\">\r\n\t\t\t\t\t\t\t\t\t${renderTotalLiquidity(pool, this.props.prices, ownership)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"24h Volume\">\r\n\t\t\t\t\t\t\t\t\t${renderVolume(pool, ownership)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"24h Fees\">\r\n\t\t\t\t\t\t\t\t\t${renderFees(pool, ownership)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Annual BAL\">\r\n\t\t\t\t\t\t\t\t\t{Number(\r\n\t\t\t\t\t\t\t\t\t\trenderAdjLiquidity(\r\n\t\t\t\t\t\t\t\t\t\t\tpool,\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.prices,\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.sumLiq,\r\n\t\t\t\t\t\t\t\t\t\t\townership\r\n\t\t\t\t\t\t\t\t\t\t).toFixed(0)\r\n\t\t\t\t\t\t\t\t\t).toLocaleString()}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"APY\">\r\n\t\t\t\t\t\t\t\t\t{renderTotalYield(pool, this.props.prices, this.props.sumLiq)}%\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"User %\">\r\n\t\t\t\t\t\t\t\t\t{renderOwnership(ownership)}%\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"# of LP's\">\r\n\t\t\t\t\t\t\t\t\t{renderNumLP(pool)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<tr className=\"active\" key={pool.id}>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Pool Address\">\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\thref={`https://pools.balancer.exchange/#/pool/${pool.id}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"ui small floating compact centered button\">\r\n\t\t\t\t\t\t\t\t\t\t\t...{pool.id.slice(-8)}\r\n\t\t\t\t\t\t\t\t\t\t</button>{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.props.deletePool(pool.id)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ui small floating compact centered button\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\tclassName=\"center aligned selectable\"\r\n\t\t\t\t\t\t\t\t\tdata-label=\"Assets\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/pool/${pool.id}`)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<PieChart\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ui tiny circular image\"\r\n\t\t\t\t\t\t\t\t\t\tdata={renderAssets(pool)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => history.push(`/pool/${pool.id}`)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<i className=\"icon long arrow alternate right\" />\r\n\t\t\t\t\t\t\t\t\t{renderAssetsText(pool).join('  ')}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Swap Fee\">\r\n\t\t\t\t\t\t\t\t\t{(pool.swapFee * 100).toFixed(2)}%\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Total Liquidity\">\r\n\t\t\t\t\t\t\t\t\t${renderTotalLiquidity(pool, this.props.prices, ownership)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"24h Volume\">\r\n\t\t\t\t\t\t\t\t\t${renderVolume(pool, ownership)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"24h Fees\">\r\n\t\t\t\t\t\t\t\t\t${renderFees(pool, ownership)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Annual BAL\">\r\n\t\t\t\t\t\t\t\t\t{Number(\r\n\t\t\t\t\t\t\t\t\t\trenderAdjLiquidity(\r\n\t\t\t\t\t\t\t\t\t\t\tpool,\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.prices,\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.sumLiq,\r\n\t\t\t\t\t\t\t\t\t\t\townership\r\n\t\t\t\t\t\t\t\t\t\t).toFixed(0)\r\n\t\t\t\t\t\t\t\t\t).toLocaleString()}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"APY\">\r\n\t\t\t\t\t\t\t\t\t{renderTotalYield(pool, this.props.prices, this.props.sumLiq)}%\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"User %\">\r\n\t\t\t\t\t\t\t\t\t{renderOwnership(ownership)}%\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"# of LP's\">\r\n\t\t\t\t\t\t\t\t\t{renderNumLP(pool)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\telse\r\n\t\t\treturn (\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td>Loading</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tpools: state.balancer.pools,\r\n\t\tprices: state.coingecko,\r\n\t\tportfolio: state.portfolio,\r\n\t\tsumLiq: state.sumLiq,\r\n\t\tform: state.form.UserInput\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, { selectPool, deletePool })(PoolsTable);\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\nclass UserInput extends React.Component {\r\n\trenderError({ error, touched }) {\r\n\t\tif (touched && error)\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"ui error message\">\r\n\t\t\t\t\t<div className=\"header\">{error}</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n\r\n\trenderInput = ({ input, label, meta }) => {\r\n\t\tconst className = `field ${meta.error && meta.touched ? 'error' : ''}`;\r\n\t\treturn (\r\n\t\t\t<div className={className}>\r\n\t\t\t\t<label>{label}</label>\r\n\t\t\t\t<input {...input} autoComplete=\"off\" />\r\n\t\t\t\t{this.renderError(meta)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tonSubmit = (formValues) => {\r\n\t\tthis.props.onSubmit(formValues);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.props.handleSubmit(this.onSubmit)} className=\"ui inverted form error\">\r\n\t\t\t\t<Field name=\"address\" component={this.renderInput} type=\"text\" label=\"Filter by wallet address\" />\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst validate = (formValues) => {\r\n\tconst errors = {};\r\n\t//if (!formValues.address) errors.address = 'You must enter a valid wallet address';\r\n\treturn errors;\r\n};\r\n\r\nexport default reduxForm({ form: 'UserInput', validate })(UserInput);\r\n","import React from 'react';\r\nimport PoolsTable from './PoolsTable';\r\nimport UserInput from './UserInput';\r\n\r\nclass Pools extends React.Component {\r\n\tonSubmit = ({ address }) => {};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<UserInput onSubmit={this.onSubmit} />\r\n\t\t\t\t<div className=\"ui inverted horizontal divider\">List of All Pools</div>\r\n\t\t\t\t<table className=\"ui selectable padded inverted striped celled table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">Pool Address</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned ten wide\">Assets</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">Swap Fee</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">Total Liquidity</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">24h Volume</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">24h Fees</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">Annual BAL</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">APY</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\">User %</th>\r\n\t\t\t\t\t\t\t<th className=\"center aligned\"># of LP's</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<PoolsTable />\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Pools;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchPool, deletePools } from '../actions';\r\nimport {\r\n\trenderTotalLiquidity,\r\n\trenderVolume,\r\n\trenderFees,\r\n\trenderAdjLiquidity,\r\n\trenderAssetsText,\r\n\trenderTotalYield\r\n} from './helpers/balancerHelpers';\r\n\r\nclass PoolViewer extends React.Component {\r\n\tasync componentDidMount() {\r\n\t\tawait this.props.fetchPool(this.props.viewPool);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.deletePools();\r\n\t}\r\n\r\n\trenderAssetValue(index) {\r\n\t\tconst token = this.props.pool[this.props.viewPool].tokens[index];\r\n\t\tconst address = token.address;\r\n\t\tif (this.props.prices[address] === undefined) return '0';\r\n\t\tconst price = this.props.prices[address].usd;\r\n\t\tconst balance = parseFloat(token.balance);\r\n\t\treturn Number((price * balance).toFixed(2)).toLocaleString();\r\n\t}\r\n\r\n\trenderAssetPrice(index) {\r\n\t\tconst token = this.props.pool[this.props.viewPool].tokens[index];\r\n\t\tconst address = token.address;\r\n\t\tif (this.props.prices[address] === undefined) return '0';\r\n\t\tconst price = this.props.prices[address].usd;\r\n\t\treturn Number(price).toLocaleString();\r\n\t}\r\n\r\n\trenderAssetTable() {\r\n\t\tconst assets = renderAssetsText(this.props.pool[this.props.viewPool]);\r\n\t\treturn assets.map((asset, index) => {\r\n\t\t\tconst output = asset.split(' ');\r\n\t\t\treturn (\r\n\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t<td className=\"center aligned\" data-label=\"Asset\">\r\n\t\t\t\t\t\t{output[1]}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className=\"center aligned\" data-label=\"Price\">\r\n\t\t\t\t\t\t${this.renderAssetPrice(index)}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className=\"center aligned\" data-label=\"Weight\">\r\n\t\t\t\t\t\t{output[0]}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td className=\"center aligned\" data-label=\"Value\">\r\n\t\t\t\t\t\t${this.renderAssetValue(index)}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.pool[this.props.viewPool] && this.props.prices && this.props.sumLiq > 138683236)\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"ui inverted horizontal divider\">Pool Viewer: {this.props.viewPool}</div>\r\n\t\t\t\t\t<table className=\"ui selectable inverted striped celled table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Total Liquidity</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Swap Fee</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">24h Volume</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">24h Fees</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Annual BAL</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">APY</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr key=\"main\">\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Total Liquidity\">\r\n\t\t\t\t\t\t\t\t\t${renderTotalLiquidity(this.props.pool[this.props.viewPool], this.props.prices)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Swap Fee\">\r\n\t\t\t\t\t\t\t\t\t{(this.props.pool[this.props.viewPool].swapFee * 100).toFixed(2)}%\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"24h Volume\">\r\n\t\t\t\t\t\t\t\t\t${renderVolume(this.props.pool[this.props.viewPool])}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"24h Fees\">\r\n\t\t\t\t\t\t\t\t\t${renderFees(this.props.pool[this.props.viewPool])}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"Annual BAL\">\r\n\t\t\t\t\t\t\t\t\t{Number(\r\n\t\t\t\t\t\t\t\t\t\trenderAdjLiquidity(\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.pool[this.props.viewPool],\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.prices,\r\n\t\t\t\t\t\t\t\t\t\t\tthis.props.sumLiq\r\n\t\t\t\t\t\t\t\t\t\t).toFixed(0)\r\n\t\t\t\t\t\t\t\t\t).toLocaleString()}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td className=\"center aligned\" data-label=\"APY\">\r\n\t\t\t\t\t\t\t\t\t{renderTotalYield(\r\n\t\t\t\t\t\t\t\t\t\tthis.props.pool[this.props.viewPool],\r\n\t\t\t\t\t\t\t\t\t\tthis.props.prices,\r\n\t\t\t\t\t\t\t\t\t\tthis.props.sumLiq\r\n\t\t\t\t\t\t\t\t\t)}%\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t<table className=\"ui selectable inverted striped celled table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Asset</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Price</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Weight</th>\r\n\t\t\t\t\t\t\t\t<th className=\"center aligned\">Value</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>{this.renderAssetTable()}</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\telse return 'Loading!';\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n\treturn {\r\n\t\tviewPool: ownProps.match.params.viewPool,\r\n\t\tprices: state.coingecko,\r\n\t\tpool: state.poolReducer,\r\n\t\tsumLiq: state.sumLiq,\r\n\t\tallPools: state.balancer.pools\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n\tfetchPool,\r\n\tdeletePools\r\n})(PoolViewer);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tfetchPools,\r\n\tfetchPrice,\r\n\tsumLiquidity,\r\n\tclearLiquidity,\r\n\tdeletePrices,\r\n\tsumAllLiq,\r\n\tdeleteAllLiq,\r\n\tsumAllVol,\r\n\tdeleteAllVol,\r\n\tdeletePools,\r\n\tfetchPool\r\n} from '../actions';\r\nimport { feeFactor, ratioFactor } from './helpers/factorCalcs';\r\nimport { renderTotalLiquidity } from './helpers/balancerHelpers';\r\n\r\nclass Data extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.timer = null;\r\n\t\tthis.sumTotalAdjLiq = 0;\r\n\t\tthis.sumTotalLiq = 0;\r\n\t\tthis.sumVolume = 0;\r\n\t\tthis.refreshTimer = 300000;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.gatherData();\r\n\t}\r\n\r\n\tasync gatherData() {\r\n\t\tawait this.props.fetchPools();\r\n\t\tconst addresses = [];\r\n\t\tfor (let pool of this.props.pools) {\r\n\t\t\tfor (let token of pool.tokens) {\r\n\t\t\t\tif (addresses.indexOf(token.address) === -1) addresses.push(token.address);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst a1 = addresses.slice(0, addresses.length / 2);\r\n\t\tconst a2 = addresses.slice(addresses.length / 2);\r\n\t\tawait this.props.fetchPrice(a1.join(','));\r\n\t\tawait this.props.fetchPrice(a2.join(','));\r\n\t\tfor (let pool of this.props.pools) {\r\n\t\t\tthis.adjLiquidity(pool);\r\n\t\t\tthis.getTotalVolume(pool);\r\n\t\t}\r\n\t\tthis.props.sumAllLiq(this.sumTotalLiq);\r\n\t\tthis.props.sumAllVol(this.sumVolume);\r\n\t\tthis.props.sumLiquidity(this.sumTotalAdjLiq);\r\n\t\tthis.timer = setInterval(() => {\r\n\t\t\tthis.refreshData();\r\n\t\t}, this.refreshTimer);\r\n\t}\r\n\r\n\tasync refreshData() {\r\n\t\tclearInterval(this.timer);\r\n\t\tthis.sumTotalAdjLiq = 0;\r\n\t\tthis.sumTotalLiq = 0;\r\n\t\tthis.sumVolume = 0;\r\n\t\tthis.props.clearLiquidity();\r\n\t\tthis.props.deleteAllLiq();\r\n\t\tthis.props.deleteAllVol();\r\n\t\tthis.props.deletePrices();\r\n\t\tif (this.props.portfolioPools && this.props.poolsList) {\r\n\t\t\tthis.props.deletePools();\r\n\t\t\tfor (let pool of this.props.poolsList) await this.props.fetchPool(pool);\r\n\t\t}\r\n\r\n\t\tthis.gatherData();\r\n\t}\r\n\tadjLiquidity = (pool) => {\r\n\t\tconst totalFactor = this.totalFactor(pool);\r\n\t\tconst liquidity = parseFloat(renderTotalLiquidity(pool, this.props.prices).split(',').join(''));\r\n\t\tif (!isNaN(liquidity)) this.sumTotalLiq += liquidity;\r\n\t\tif (isNaN(liquidity * totalFactor)) return;\r\n\t\tthis.sumTotalAdjLiq += liquidity * totalFactor;\r\n\t};\r\n\r\n\tgetTotalVolume(pool) {\r\n\t\tconst totalSwapVolume = pool.totalSwapVolume;\r\n\t\tif (pool.swaps[0] === undefined) return;\r\n\t\tconst swap = pool.swaps[0].poolTotalSwapVolume;\r\n\t\tconst volume = totalSwapVolume - swap;\r\n\t\tthis.sumVolume += volume;\r\n\t}\r\n\r\n\ttotalFactor = (pool) => {\r\n\t\tconst fee = feeFactor(pool.swapFee);\r\n\t\tconst ratio = ratioFactor(pool);\r\n\t\treturn fee * ratio;\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tpools: state.balancer.pools,\r\n\t\tprices: state.coingecko,\r\n\t\tportfolioPools: state.poolReducer,\r\n\t\tpoolsList: state.portfolio\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n\tfetchPools,\r\n\tfetchPrice,\r\n\tsumLiquidity,\r\n\tclearLiquidity,\r\n\tdeletePrices,\r\n\tsumAllLiq,\r\n\tdeleteAllLiq,\r\n\tsumAllVol,\r\n\tdeleteAllVol,\r\n\tdeletePools,\r\n\tfetchPool\r\n})(Data);\r\n","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport history from '../history';\r\n\r\nimport Footer from './Footer';\r\nimport Header from './Header';\r\nimport PortfolioView from './PortfolioView';\r\nimport Pools from './Pools';\r\nimport PoolViewer from './PoolViewer';\r\nimport Data from './Data';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<div className=\"ui container\">\r\n\t\t\t<Data />\r\n\t\t\t<Router history={history}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path=\"/pool/:viewPool\" component={PoolViewer} />\r\n\t\t\t\t\t\t<Route path=\"/portfolio/:portfolio\" component={PortfolioView} />\r\n\t\t\t\t\t\t<Route path=\"/\" component={Pools} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer />\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","const INITIAL_STATE = {\r\n\tpools: null\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'FETCH_POOLS':\r\n\t\t\treturn { ...state, pools: action.payload.data.pools };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","const INITIAL_STATE = {};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'FETCH_PRICE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tcase 'DELETE_PRICES':\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","const INITIAL_STATE = [];\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SELECT_POOL':\r\n\t\t\tconst newState = state.map((value) => value);\r\n\t\t\tif (newState.indexOf(action.payload) === -1) newState.push(action.payload);\r\n\t\t\treturn newState;\r\n\t\tcase 'DELETE_POOL':\r\n\t\t\tconst deletedPool = state.filter((value) => value !== action.payload);\r\n\t\t\treturn deletedPool;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","const INITIAL_STATE = {};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'FETCH_POOL':\r\n\t\t\tconst pool = action.payload.data.pools;\r\n\t\t\tif (action.payload.data.pools[0] === undefined) return state;\r\n\t\t\tconst id = action.payload.data.pools[0].id;\r\n\t\t\treturn { ...state, [id]: pool[0] };\r\n\t\tcase 'DELETE_POOLS':\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport balancerReducer from './balancerReducer';\r\nimport coingeckoReducer from './coingeckoReducer';\r\nimport portfolioReducer from './portfolioReducer';\r\nimport poolReducer from './poolReducer';\r\nimport liquidityReducer from './liquidityReducer';\r\nimport allLiqReducer from './allLiqReducer';\r\nimport sumVolReducer from './sumVolReducer';\r\n\r\nexport default combineReducers({\r\n\tbalancer: balancerReducer,\r\n\tcoingecko: coingeckoReducer,\r\n\tportfolio: portfolioReducer,\r\n\tpoolReducer,\r\n\tsumLiq: liquidityReducer,\r\n\tsumTotalLiq: allLiqReducer,\r\n\tsumVol: sumVolReducer,\r\n\tform: formReducer\r\n});\r\n","const INITIAL_STATE = 0;\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SUM_LIQUIDITY':\r\n\t\t\tlet newState = parseFloat(state);\r\n\t\t\tconst number = parseFloat(action.payload);\r\n\t\t\tif (isNaN(newState + number)) return state;\r\n\t\t\treturn newState + number;\r\n\t\tcase 'CLEAR_LIQUIDITY':\r\n\t\t\treturn 0;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","const INITIAL_STATE = 0;\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SUM_ALL_LIQ':\r\n\t\t\tlet newState = parseFloat(state);\r\n\t\t\tconst number = parseFloat(action.payload);\r\n\t\t\tif (isNaN(newState + number)) return state;\r\n\t\t\treturn newState + number;\r\n\t\tcase 'DELETE_ALL_LIQ':\r\n\t\t\treturn 0;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","const INITIAL_STATE = 0;\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SUM_ALL_VOL':\r\n\t\t\tlet newState = parseFloat(state);\r\n\t\t\tconst number = parseFloat(action.payload);\r\n\t\t\tif (isNaN(newState + number)) return state;\r\n\t\t\treturn newState + number;\r\n\t\tcase 'DELETE_ALL_VOL':\r\n\t\t\treturn 0;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}